{% extends "layout/base-2-col.html" %} {% block content %}


<table class="table table-striped" style="color: #A9B4AC;">
    <thead>
        <tr>
            <th scope="col">Company</th>
            <th scope="col">Job Role</th>
            <th scope="col">Applied On</th>
            <th scope="col">Location</th>
            <th scope="col">Salary</th>
            <th scope="col">Status</th>
            <th scope="col">Action</th>

    </thead>
    <tbody>
        {% for content in display %}
        <tr>
            <td scope="row">{{ content.company_name }}</td>
            <td>{{ content.job_role }}</td>
            <td>{{ content.applied_on }}</td>
            <td>{{ content.location }}</td>
            <td>{{ content.salary }}</td>
            <td>
                <div class="row">
                    <!-- <div class="input-group-prepend"> -->
                    {% set color_class = {"IN_PROCESS": "btn-primary", "APPLIED": "btn-info", "OFFER": "btn-success", "REJECT": "btn-danger"}[content['job_status']] | default("btn-secondary") %}
                    <button class="btn {{ color_class }} dropdown-toggle" type="button" data-toggle="dropdown">{{ content.job_status }}</button>
                    <div class="dropdown-menu">
                        <p class="dropdown-item disabled">Change to</p>
                        <div role="separator" class="dropdown-divider"></div>
                        {% set id = content.id %}
                        <a class="dropdown-item btn-secondary" onclick="updateJobStatus('{{ id }}', 'WISHLIST')">WISHLIST</a>
                        <a class="dropdown-item" onclick="updateJobStatus('{{ id }}', 'IN_PROCESS')">IN_PROCESS</a>
                        <a class="dropdown-item btn-info" onclick="updateJobStatus('{{ id }}', 'APPLIED')">APPLIED</a>
                        <a class="dropdown-item btn-success" onclick="updateJobStatus('{{ id }}', 'OFFER')">OFFER</a>
                        <a class="dropdown-item btn-danger" onclick="updateJobStatus('{{ id }}', 'REJECT')">REJECT</a>
                    </div>
                    <!-- </div> -->
                </div>
            </td>
            <td>
                <button class="btn btn-danger" style="margin-left: 10px;" onclick="deleteJob('{{ id }}')"><img src="https://icons.getbootstrap.com/assets/icons/trash.svg"></button>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>

{% endblock content %}